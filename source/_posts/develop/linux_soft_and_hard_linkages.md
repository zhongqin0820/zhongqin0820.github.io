---
title: linux之软链接与硬链接
date: 2017-12-08 15:18:22
categories:
- 网页开发

tags:
- Linux
---

# 软链接
称之为符号连接（Symbolic Link）。类似于Windows的快捷方式，在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。

<!-- more -->
> 注解：此处说的一个文本文件包含另一文件的位置信息，可以将其看作指针。因此每次打开软链接的文件都会定位到源文件目录所在的位置。
>

软链接的缺点在于：因为链接文件包含有原文件的路径信息，所以当原文件从一个目录下移到其他目录中，再访问链接文件，系统就找不到了，而硬链接就没有这个缺陷，你想怎么移就怎么移；还有它要系统分配额外的空间用于建立新的索引节点和保存原文件的路径。

# 硬链接
通过索引节点来进行连接。保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。
只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。
> 注解：好比C++中，为一个内存区域创建了多个别名。
>

<!-- more -->
## 硬链接文件有两个限制
1. 不允许给目录创建硬链接；
2. 只有在同一文件系统中的文件之间才能创建链接，而且只有超级用户才有建立硬链接权限。
>对硬链接文件进行读写和删除操作时候，结果和软链接相同。但如果我们删除硬链接文件的源文件，硬链接文件仍然存在，而且保留了愿有的内容。

软链接没有硬链接以上的两个限制，因而现在更为广泛使用，它具有更大的灵活性，甚至可以跨越不同机器、不同网络对文件进行链接。

# 创建命令
`ln -s`创建软链接

`ln `创建硬链接

# 参考链接
[linux 创建连接命令 ln -s 软链接](https://www.cnblogs.com/kex1n/p/5193826.html)