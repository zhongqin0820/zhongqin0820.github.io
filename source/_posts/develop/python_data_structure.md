---
title: python之数据结构
date: 2017-12-08 17:26:06
updated: 2019-05-13 16:12:06
categories:
- 网页开发

tags:
- Python
---
# 前言
本章是关于python中基本数据结构知识的一些梳理。将其按照数据类型划分：不可哈希类型，可哈希类型（可使用hash()函数获得其hash值，只有可哈希类型可被作为字典键值）。

<!-- more -->
# 基础数据结构
属于基础数据类型中的不可hash类型（`unhashable type`）。

## Python 列表(List)
- 连续的序列，索引下标从0开始，例如：`a[i]`
- 可对其进行切片操作：如a[1:6]截取[1,6)区间內元素。例如：`a[i:j:k]`，其中`k`为步长。
- 内置函数：`max()`，`min()`，`len()`，`sum()`等用于求列表最值及长度和求和操作等。
- 使用`del `或赋空区间为`[]`删除列表元素。

### Python列表脚本操作符
列表对 + 和 * 的操作符与字符串相似。+ 号用于组合列表，* 号用于重复列表。

> 注意使用`*`重复列表时，需要注意这里是浅拷贝。
> 即`[[None]*5]*2`是浅拷贝。而`[[None]*5 for _ in range(2)]`属于深拷贝。
> Python中对类型属于对象，每个对象都包含头部信息，比如类型标识符，引用计数器等，要注意尽量不要共享引用。
> 同时，注意**普通+号会生成新的对象，增强赋值+=会在原处修改（共享引用时）**。

## Python 集合(Set)
- 符合数学上关于集合的定义。
- 交、差、并（`intersection`即`&`、`difference`即`-`、`union`即`|`）操作产生的结果不对原集合有影响，而是生成新的集合。可使用带`_update`的函数对其更新。
- 可使用`in`对元素进行检查是否在集合內。

## Python 字典(Dictionary)
- 字典是另一种可变容器模型，且可存储任意类型对象。
- 字典的每个键值(key=>value)对用冒号(`:`)分割，每个对之间用逗号(`,`)分割，整个字典包括在花括号(`{}`)中。
- 不允许同一个键出现两次。创建时如果同一个键被赋值两次，后一个值会被记住。
- 键必须是唯一的，但值则不必。键必须是不可变的，因此字典的键只可以是**可哈希类型**，如字符串，数字或元组。

### 删除字典元素
```py
del dict['Name']; # 删除键是'Name'的条目
dict.clear();     # 清空词典所有条目
del dict ;        # 删除词典
```

# 基础数据类型
不可变类型，可使用`hash()`函数查看其hash值，可作为字典的key。
## 数字类型
- int
- float
- complex
- decimal.Decimal
- fractions.Fraction

## 字符串类型
- str
    - `r''`：raw字符串不进行转义
    - 善用内置的str处理函数：`isalnum()`、`isdigit()`、`islower()`、`isupper()`
    - 字符串转换工具
        - ord('s')与chr(115)：字符转换
        - int('1001', 2)：以base=2解析'1001'
        - bin(x)、oct(x)、hex(x)：将整数x转化为对应进制字符串

    - 善用字符串格式化表达式及调用方法`format()`
        - 基于字典的格式化格式：`"%(name1)d---%(name2)s" % {"name1":23, "name2":"value2"}`

- bytes
    - 等价于`b''`定义的字节字符串
    - 表示不可变的二进制数据，强制赋值会报错：`TypeError: 'str' object does not support item assignment`
    - 对应的bytearray是一种可变的bytes类型，可以对其进行赋值

## 元祖
- tuple

## 冻结集合
- fronzenset

## 布尔类型
- True
- False

## `None`

## Python 元祖(Tuple)
- 元组与列表类似，不同之处在于元组的元素不能修改。
- 元组使用小括号，列表使用方括号。
- 元组创建很简单，只需要在括号中添加元素，并使用逗号隔开即可。
- **元组中只包含一个元素时，需要在元素后面添加逗号**
- 元组与字符串类似，下标索引从0开始，可以进行截取，组合等。
- 将列表转换为元组:**tuple(seq)**

# 参考资料
- [千行代码入门python](https://github.com/xianhu/LearnPython/blob/93bb78ab29707008416aaa495bbe81d70fdc918c/python_base.py#L17)